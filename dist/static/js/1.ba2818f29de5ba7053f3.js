webpackJsonp([1],{"9bBU":function(t,e,s){s("mClu");var a=s("FeBl").Object;t.exports=function(t,e,s){return a.defineProperty(t,e,s)}},C4MV:function(t,e,s){t.exports={default:s("9bBU"),__esModule:!0}},MOih:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=s("oDMt"),r=s("OM6M"),o=s("I9qK"),i={name:"order-list",data:function(){return{pageParams:{length:10,sizes:[10,20,50,100],start:0,total:0,order_no:"",bill_lading_no:"",tabType:0},activeName:0,shipmentModal:!1,detailModal:!1,routerModal:!1,routerDetail:null,orderList:null,orderDetail:null,shipmentData:{viewData:null,ids:[],plate_no:"",driver_phone:"",driver_name:""},shipmentRules:{driver_name:[{required:!0,message:"请输入提货司机姓名",trigger:"change"}],driver_phone:[{validator:function(t,e,s){if(!e)return s(new Error("手机号码不能为空"));/^1[3|4|5|7|8][0-9]\d{8}$/.test(e)?s():s(new Error("请输入正确的手机号"))},trigger:"change"}],plate_no:[{required:!0,message:"请输入提货车牌号",trigger:"change"}]},exceptionData:{viewData:[],data:null},exceptionModal:!1}},methods:{tabClick:function(t){this.pageParams.tabType=t.name,this.getOrderList()},selectable:function(t,e){if("booking"===t.state&&("port_to_door"===t.service_mode||"port_to_port"===t.service_mode))return!0},cancelOrder:function(){var t=this;this.$confirm("确认取消？").then(function(e){a.a.cancelOrder({id:id}).then(function(e){1==e.code&&(t.$message.success(e.msg),t.getOrderList())}),done()}).catch(function(t){})},handleSelectionChange:function(t){this.shipmentData.viewData=t},show_shipmentModal:function(t){if(!this.shipmentData.viewData||this.shipmentData.viewData.length<=0)return this.$message.error("请选择出货订单");this.shipmentModal=!0,this.resetForm(t)},submit_shipment:function(t){var e=this;this.$refs[t].validate(function(t){t&&(e.shipmentData.ids=[],e.shipmentData.viewData.forEach(function(t,s){e.shipmentData.ids.push(t.id)}),e.shipmentData.ids=e.shipmentData.ids.join(","),a.a.shipment(e.shipmentData).then(function(t){1==t.code&&(e.$message.success(t.msg),e.shipmentModal=!1,e.shipmentData.viewData=null,e.getOrderList())}))})},getOrderList:function(){var t=this;a.a.list(this.pageParams).then(function(e){1==e.code&&(t.pageParams.total=e.data.recordsTotal,t.orderList=e.data.list,console.log(e.data.list))})},getOrderDetail:function(t){var e=this;a.a.orderDetails({id:t}).then(function(t){1==t.code&&(e.orderDetail=t.data,e.detailModal=!0),console.log(t.data)})},getOrderRouter:function(t){var e=this;a.a.getOrderRouteInfo({id:t}).then(function(t){1==t.code&&(e.routerDetail=t.data,e.routerModal=!0)})},getExceptionData:function(t,e){var s=this;a.a.getExceptionData({id:t}).then(function(t){1==t.code&&(s.exceptionData.viewData=[e],s.exceptionData.data=t.data,console.log(t.data),s.exceptionModal=!0)})},pageSizeChange:function(t){this.pageParams.length=t,this.getOrderList()},pageCurrentChange:function(t){this.pageParams.start=(t-1)*this.pageParams.length,this.getOrderList()},resetForm:function(t){this.$refs[t]&&this.$refs[t].resetFields()},submitSearch:function(){this.getOrderList()}},created:function(){this.getOrderList()},components:{routerTrajectory:r.a},filters:{service_mode:function(t){switch(t){case"door_to_door":return"门对门";case"door_to_port":return"门对港";case"port_to_door":return"港对门";case"port_to_port":return"港对港"}},declaration_type:function(t){switch(t){case"autonomy":return"自主报关";case"entrust":return"委托报关"}},orderState:function(t){switch(t){case"have_order":return"已下单";case"in_house":return"已入仓";case"shipment":return"已出货";case"booking":return"已订舱";case"take_off":return"已起飞";case"arrive":return"已到达";case"delivery":return"派送中";case"over":return"派送完结";case"pick_up":return"已提货";case"out_house":return"已退仓";case"cancel":return"已取消"}},exception_state:function(t){switch(t){case"content_wrong":return"内件不符";case"overweight":return"超重";case"embargo":return"禁运"}},formatDate:function(t){var e=new Date(t);return Object(o.a)(e,"yyyy-MM-dd hh:mm")}}},l={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("el-card",[s("el-form",{attrs:{inline:!0}},[s("el-form-item",[s("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"订单号，多个单号逗号隔开"},model:{value:t.pageParams.order_no,callback:function(e){t.$set(t.pageParams,"order_no",e)},expression:"pageParams.order_no"}}),t._v(" "),s("el-input",{staticStyle:{width:"300px"},attrs:{placeholder:"提单号，多个单号逗号隔开"},model:{value:t.pageParams.bill_lading_no,callback:function(e){t.$set(t.pageParams,"bill_lading_no",e)},expression:"pageParams.bill_lading_no"}})],1),t._v(" "),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:t.submitSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("el-button",{attrs:{type:"primary",disabled:t.activeName>=2},on:{click:function(e){t.show_shipmentModal("shipmentData")}}},[t._v("确认出货")])],1),t._v(" "),s("el-tabs",{on:{"tab-click":t.tabClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"全部",name:"0"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"待确认",name:"1"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"待入仓",name:"2 "}}),t._v(" "),s("el-tab-pane",{attrs:{label:"干线运输",name:"3"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"目的地派送",name:"4"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"已完结",name:"5"}}),t._v(" "),s("el-tab-pane",{attrs:{label:"异常订单",name:"6"}})],1),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.orderList},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55",selectable:t.selectable}}),t._v(" "),s("el-table-column",{attrs:{label:"单号",width:"170"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(e.row.order_no)+"订单号")]),t._v(" "),s("p",[t._v(t._s(e.row.bill_lading_no)+"提单号")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"需求概述",width:"500"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-row",[s("el-col",{attrs:{span:8}},[t._v("起运地 "+t._s(e.row.provenance))]),t._v(" "),s("el-col",{attrs:{span:8}},[t._v(t._s(e.row.airline_company_name))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-popover",{attrs:{placement:"top-start",title:"描述",width:"200",trigger:"hover",content:e.row.info_describe}},[s("p",{staticClass:"br",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.info_describe))])])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("目的地 "+t._s(e.row.destination))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("p",[t._v(t._s(t._f("service_mode")(e.row.service_mode)))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("货物重量 "+t._s(e.row.need_weight)+"KG")]),t._v(" "),s("el-col",{attrs:{span:8}},[t._v(t._s(t._f("declaration_type")(e.row.declaration_type)))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-popover",{attrs:{placement:"top-start",title:"备注",width:"200",trigger:"hover",content:e.row.require_remark}},[s("p",{staticClass:"br",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.require_remark))])])],1)],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"收寄人信息",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[s("el-tag",{attrs:{size:"mini"}},[t._v("收")]),t._v(" "),s("span",[t._v(t._s(e.row.recipientName))]),t._v(" "),s("span",[t._v(t._s(e.row.recipientPhone))]),t._v(" "),s("p",[t._v(t._s(e.row.recipientAddress))])],1),t._v(" "),s("div",[s("el-tag",{attrs:{size:"mini"}},[t._v("寄")]),t._v(" "),s("span",[t._v(t._s(e.row.senderName))]),t._v(" "),s("span",[t._v(t._s(e.row.senderPhone))]),t._v(" "),s("p",[t._v(t._s(e.row.senderAddress))])],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"状态",width:"220"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(t._f("orderState")(e.row.state)))]),t._v(" "),1==e.row.is_exception?s("p",[s("el-tag",{attrs:{type:"danger",size:"mini"}},[t._v(t._s(t._f("exception_state")(e.row.exception_state)))])],1):t._e(),t._v(" "),t._l(e.row.orderRouteList,function(e){return s("p",["007"==e.route_code?[t._v("\n              "+t._s(t._f("formatDate")(e.start_time))+" "+t._s(e.route_detail)+"\n            ")]:"008"==e.route_code?[t._v("\n              "+t._s(t._f("formatDate")(e.arrive_time))+" "+t._s(e.route_detail)+"\n            ")]:"010"==e.route_code?[t._v("\n              "+t._s(t._f("formatDate")(e.arrive_time))+" "+t._s(e.route_detail)+"\n            ")]:"014"==e.route_code?[t._v("\n              "+t._s(t._f("formatDate")(e.arrive_time))+" "+t._s(e.route_detail)+"\n            ")]:[t._v("\n              "+t._s(t._f("formatDate")(e.op_time))+" "+t._s(e.route_detail)+"\n            ")]],2)})]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.getOrderDetail(e.row.id)}}},[t._v("查看\n          ")]),t._v(" "),s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.getOrderRouter(e.row.id)}}},[t._v("轨迹\n          ")]),t._v(" "),"have_order"==e.row.state||"booking"==e.row.state?s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){t.cancelOrder(e.row.id)}}},[t._v("取消\n          ")]):t._e(),t._v(" "),1==e.row.is_exception?s("el-button",{attrs:{size:"mini"},on:{click:function(s){t.getExceptionData(e.row.id,e.row)}}},[t._v("异常信息")]):t._e()]}}])})],1),t._v(" "),s("div",{staticClass:"block text-right m-t"},[s("el-pagination",{attrs:{"current-page":t.pageParams.start,"page-sizes":t.pageParams.sizes,"page-size":t.pageParams.length,layout:"total, sizes, prev, pager, next, jumper",total:t.pageParams.total},on:{"size-change":t.pageSizeChange,"current-change":t.pageCurrentChange}})],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"查看订单信息",visible:t.detailModal},on:{"update:visible":function(e){t.detailModal=e}}},[t.orderDetail?s("div",{staticClass:"form-horizontal"},[s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("单号信息")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("订单号")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.order_no))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("提单号")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.bill_lading_no))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("调度单")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.in_house_no))])])])])])]),t._v(" "),s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("需求信息")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("线路信息")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.provenance)+"-"+t._s(t.orderDetail.order.provenance_code)+"----》"+t._s(t.orderDetail.order.destination)+"-"+t._s(t.orderDetail.order.destination_code)+"\n                ")])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("服务模式")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("service_mode")(t.orderDetail.order.service_mode)))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("清关方式")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("declaration_type")(t.orderDetail.order.declaration_type)))])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("寄件人")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[s("p",[t._v(t._s(t.orderDetail.senderInfo.person_name)+" "+t._s(t.orderDetail.senderInfo.person_phone)+" "+t._s(t.orderDetail.senderInfo.zip_code))]),t._v(" "),s("p",{staticClass:"br"},[t._v(t._s(t.orderDetail.senderInfo.address))])])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("收件人")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[s("p",[t._v(t._s(t.orderDetail.recipientInfo.person_name)+" "+t._s(t.orderDetail.recipientInfo.person_phone)+" "+t._s(t.orderDetail.recipientInfo.zip_code))]),t._v(" "),s("p",{staticClass:"br"},[t._v(t._s(t.orderDetail.recipientInfo.address))])])])])])]),t._v(" "),null!=t.orderDetail.order.pick_up_name?[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("提货信息")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[s("p",[t._v(t._s(t.orderDetail.order.pick_up_name)+" "+t._s(t.orderDetail.order.pick_up_phone))]),t._v(" "),s("p",{staticClass:"br"},[t._v(t._s(t.orderDetail.order.pick_up_address))])])])])])])]:t._e(),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("货物信息描述")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.info_describe))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("特殊要求备注")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.require_remark))])])])])])],2),t._v(" "),s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("报价方案")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("报价航线")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v("\n                  "+t._s(t.orderDetail.order.provenance)+"-"+t._s(t.orderDetail.order.provenance_code)+"--"+t._s(t.orderDetail.orderPriceData.transit?t.orderDetail.orderPriceData.transit:"")+"-"+t._s(t.orderDetail.orderPriceData.transit_code?t.orderDetail.orderPriceData.transit_code:"")+"--》"+t._s(t.orderDetail.order.destination)+"-"+t._s(t.orderDetail.order.destination_code)+"\n                ")])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("航空公司")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.orderPriceData.airline_company_name))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("报价时间")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("formatDate")(t.orderDetail.orderPriceData.create_time)))])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("空运费")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.orderPriceData.shipping_price?t.orderDetail.orderPriceData.shipping_price:t.orderDetail.orderPriceData.min_freight))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("燃油费")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[null!=t.orderDetail.orderPriceData.fuel_surcharge?[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.orderPriceData.fuel_surcharge)+"  "+t._s(t.orderDetail.orderPriceData.price_currency)+"/KG")])]:t._e()],2)])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("战争附加费")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[null!=t.orderDetail.orderPriceData.war_surcharge?[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.orderPriceData.war_surcharge)+"  "+t._s(t.orderDetail.orderPriceData.price_currency)+"/KG")])]:t._e()],2)])])])]),t._v(" "),null!=t.orderDetail.order.bill_lading_no?[s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("订舱信息")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("航班号")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.flight_no))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("提单号")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.bill_lading_no))])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("航班时间")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("formatDate")(t.orderDetail.order.flight_date)))])])])])])])]:t._e(),t._v(" "),null!=t.orderDetail.order.plate_no?[s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("提货信息")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("司机姓名")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.driver_name))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("司机电话")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.driver_phone))])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("车牌号")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.plate_no))])])])])])])]:t._e(),t._v(" "),null!=t.orderDetail.order.in_house_time?[s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("入仓信息")]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("入仓重量")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.in_house_weight))])])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("货物体积")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t.orderDetail.order.bale_long)+"*"+t._s(t.orderDetail.order.bale_width)+"*"+t._s(t.orderDetail.order.bale_height))])])])])]),t._v(" "),s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("入仓内件")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},t._l(t.orderDetail.goodsDetailList,function(e){return s("p",[t._v(t._s(e.name_zh)+"*"+t._s(e.goods_num))])}))])])]),t._v(" "),s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("入仓时间")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("formatDate")(t.orderDetail.order.in_house_time)))])])])])])])]:t._e(),t._v(" "),null!=t.orderDetail.order.start_time||null!=t.orderDetail.order.arrive_time||null!=t.orderDetail.order.delivery_time||null!=t.orderDetail.order.end_time?[s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("干线运输")]),t._v(" "),s("div",{staticClass:"row"},[null!=t.orderDetail.order.start_time?s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("起运时间")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("formatDate")(t.orderDetail.order.start_time)))])])])]):t._e(),t._v(" "),null!=t.orderDetail.order.arrive_time?s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("到达时间")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("formatDate")(t.orderDetail.order.arrive_time)))])])])]):t._e()]),t._v(" "),s("div",{staticClass:"row"},[null!=t.orderDetail.order.delivery_time?s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("派送时间")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("formatDate")(t.orderDetail.order.delivery_time)))])])])]):t._e(),t._v(" "),null!=t.orderDetail.order.end_time?s("div",{staticClass:"col-sm-4"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("完结时间")]),t._v(" "),s("div",{staticClass:"col-sm-8"},[s("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("formatDate")(t.orderDetail.order.end_time)))])])])]):t._e()])])]:t._e()],2):t._e(),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.detailModal=!1}}},[t._v("关闭")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"路由轨迹",visible:t.routerModal},on:{"update:visible":function(e){t.routerModal=e}}},[t.routerDetail?s("div",{staticClass:"form-horizontal"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("单号:")]),t._v(" "),s("div",{staticClass:"form-control-static col-sm-8"},[t._v(t._s(t.routerDetail.order_no))])])]),t._v(" "),s("div",{staticClass:"col-sm-6"},[s("div",{staticClass:"form-group"},[s("div",{staticClass:"control-label col-sm-4"},[t._v("当前状态:")]),t._v(" "),s("div",{staticClass:"form-control-static col-sm-8"},[t._v(t._s(t._f("orderState")(t.routerDetail.order_state)))])])])]),t._v(" "),s("el-card",[s("router-trajectory",{attrs:{orderRouteList:t.routerDetail.orderRouteList}})],1)],1):t._e(),t._v(" "),s("div",{attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.routerModal=!1}}},[t._v("关闭")])],1)]),t._v(" "),s("el-dialog",{attrs:{title:"确认出货操作",visible:t.shipmentModal},on:{"update:visible":function(e){t.shipmentModal=e}}},[s("el-card",[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("出货列表")]),t._v(" "),s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.shipmentData.viewData}},[s("el-table-column",{attrs:{label:"单号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(e.row.order_no)+"订单号")]),t._v(" "),s("p",[t._v(t._s(e.row.bill_lading_no)+"提单号")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"运输信息",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-row",[s("el-col",{attrs:{span:8}},[t._v("起运地 "+t._s(e.row.provenance))]),t._v(" "),s("el-col",{attrs:{span:8}},[t._v(t._s(e.row.airline_company_name))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-popover",{attrs:{placement:"top-start",title:"描述",width:"200",trigger:"hover",content:e.row.info_describe}},[s("p",{staticClass:"br",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.info_describe))])])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("目的地 "+t._s(e.row.destination))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("p",[t._v(t._s(t._f("service_mode")(e.row.service_mode)))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("货物重量 "+t._s(e.row.need_weight)+"KG")]),t._v(" "),s("el-col",{attrs:{span:8}},[t._v(t._s(t._f("declaration_type")(e.row.declaration_type)))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-popover",{attrs:{placement:"top-start",title:"备注",width:"200",trigger:"hover",content:e.row.require_remark}},[s("p",{staticClass:"br",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.require_remark))])])],1)],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"收寄人信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[s("el-tag",{attrs:{size:"mini"}},[t._v("收")]),t._v(" "),s("span",[t._v(t._s(e.row.recipientName))]),t._v(" "),s("span",[t._v(t._s(e.row.recipientPhone))]),t._v(" "),s("p",[t._v(t._s(e.row.recipientAddress))])],1),t._v(" "),s("div",[s("el-tag",{attrs:{size:"mini"}},[t._v("寄")]),t._v(" "),s("span",[t._v(t._s(e.row.senderName))]),t._v(" "),s("span",[t._v(t._s(e.row.senderPhone))]),t._v(" "),s("p",[t._v(t._s(e.row.senderAddress))])],1)]}}])})],1),t._v(" "),s("el-form",{ref:"shipmentData",staticClass:"m-t",attrs:{inline:!0,model:t.shipmentData,rules:t.shipmentRules}},[s("el-form-item",{attrs:{label:"司机姓名",prop:"driver_name"}},[s("el-input",{attrs:{placeholder:"请输入司机姓名"},model:{value:t.shipmentData.driver_name,callback:function(e){t.$set(t.shipmentData,"driver_name",e)},expression:"shipmentData.driver_name"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"司机电话",prop:"driver_phone"}},[s("el-input",{attrs:{placeholder:"请输入司机电话"},model:{value:t.shipmentData.driver_phone,callback:function(e){t.$set(t.shipmentData,"driver_phone",e)},expression:"shipmentData.driver_phone"}})],1),t._v(" "),s("el-form-item",{attrs:{label:"车牌号",prop:"plate_no"}},[s("el-input",{attrs:{placeholder:"请输入车牌号"},model:{value:t.shipmentData.plate_no,callback:function(e){t.$set(t.shipmentData,"plate_no",e)},expression:"shipmentData.plate_no"}})],1)],1)],1),t._v(" "),s("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{type:"primary"},on:{click:function(e){t.submit_shipment("shipmentData")}}},[t._v("确认出货")])],1)],1),t._v(" "),s("el-dialog",{attrs:{title:"异常信息",visible:t.exceptionModal},on:{"update:visible":function(e){t.exceptionModal=e}}},[s("div",[s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.exceptionData.viewData}},[s("el-table-column",{attrs:{label:"单号",width:"200"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(e.row.order_no)+"订单号")]),t._v(" "),s("p",[t._v(t._s(e.row.bill_lading_no)+"提单号")])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"运输信息",width:"400"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-row",[s("el-col",{attrs:{span:8}},[t._v("起运地 "+t._s(e.row.provenance))]),t._v(" "),s("el-col",{attrs:{span:8}},[t._v(t._s(e.row.airline_company_name))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-popover",{attrs:{placement:"top-start",title:"描述",width:"200",trigger:"hover",content:e.row.info_describe}},[s("p",{staticClass:"br",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.info_describe))])])],1)],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("目的地 "+t._s(e.row.destination))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("p",[t._v(t._s(t._f("service_mode")(e.row.service_mode)))])])],1),t._v(" "),s("el-row",[s("el-col",{attrs:{span:8}},[t._v("货物重量 "+t._s(e.row.need_weight)+"KG")]),t._v(" "),s("el-col",{attrs:{span:8}},[t._v(t._s(t._f("declaration_type")(e.row.declaration_type)))]),t._v(" "),s("el-col",{attrs:{span:8}},[s("el-popover",{attrs:{placement:"top-start",title:"备注",width:"200",trigger:"hover",content:e.row.require_remark}},[s("p",{staticClass:"br",attrs:{slot:"reference"},slot:"reference"},[t._v(t._s(e.row.require_remark))])])],1)],1)]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"收寄人信息"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("div",[s("el-tag",{attrs:{size:"mini"}},[t._v("收")]),t._v(" "),s("span",[t._v(t._s(e.row.recipientName))]),t._v(" "),s("span",[t._v(t._s(e.row.recipientPhone))]),t._v(" "),s("p",[t._v(t._s(e.row.recipientAddress))])],1),t._v(" "),s("div",[s("el-tag",{attrs:{size:"mini"}},[t._v("寄")]),t._v(" "),s("span",[t._v(t._s(e.row.senderName))]),t._v(" "),s("span",[t._v(t._s(e.row.senderPhone))]),t._v(" "),s("p",[t._v(t._s(e.row.senderAddress))])],1)]}}])})],1),t._v(" "),s("el-card",{staticClass:"m-t"},[s("div",{attrs:{slot:"header"},slot:"header"},[t._v("异常信息")]),t._v(" "),t.exceptionData.data?s("el-table",{staticStyle:{width:"100%"},attrs:{data:t.exceptionData.data}},[s("el-table-column",{attrs:{label:"异常状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(t._f("exception_state")(e.row.exception_state)))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"异常备注"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(e.row.exception_remarks))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作时间"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(t._f("formatDate")(e.row.create_time)))])]}}])}),t._v(" "),s("el-table-column",{attrs:{label:"操作人"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("p",[t._v(t._s(e.row.op_name))])]}}])})],1):t._e()],1)],1),t._v(" "),s("div",{staticClass:"text-center",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:function(e){t.exceptionModal=!1}}},[t._v("关闭")])],1)])],1)},staticRenderFns:[]},c=s("VU/8")(i,l,!1,null,null,null);e.default=c.exports},OM6M:function(t,e,s){"use strict";var a=s("I9qK"),r={name:"router-trajectory",props:{orderRouteList:{type:Array,default:[]}},filters:{formatDate:function(t){var e=new Date(t);return Object(a.a)(e,"yyyy-MM-dd hh:mm")}}},o={render:function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("dl",{staticClass:"dl-horizontal router-trajectory",staticStyle:{"max-height":"305px","overflow-y":"scroll"}},t._l(t.orderRouteList,function(e,a){return s("dd",[s("div",{class:{active:0==a}},[s("i",{staticClass:"el-icon-refresh"}),t._v(" "),"007"==e.route_code?[s("span",{staticClass:"text"},[t._v(t._s(e.route_detail))]),t._v(" "),s("span",{staticClass:"m-l-lg"},[t._v(t._s(t._f("formatDate")(e.start_time)))])]:"008"==e.route_code?[s("span",{staticClass:"text"},[t._v(t._s(e.route_detail))]),t._v(" "),s("span",{staticClass:"m-l-lg"},[t._v(t._s(t._f("formatDate")(e.arrive_time)))])]:"010"==e.route_code?[s("span",{staticClass:"text"},[t._v(t._s(e.route_detail))]),t._v(" "),s("span",{staticClass:"m-l-lg"},[t._v(t._s(t._f("formatDate")(e.delivery_time)))])]:"014"==e.route_code?[s("span",{staticClass:"text"},[t._v(t._s(e.route_detail))]),t._v(" "),s("span",{staticClass:"m-l-lg"},[t._v(t._s(t._f("formatDate")(e.oneself_take_time)))])]:[s("span",{staticClass:"text"},[t._v(t._s(e.route_detail))]),t._v(" "),s("span",{staticClass:"m-l-lg"},[t._v(t._s(t._f("formatDate")(e.op_time)))])]],2)])}))},staticRenderFns:[]};var i=s("VU/8")(r,o,!1,function(t){s("WaNe")},"data-v-d16472e4",null);e.a=i.exports},WaNe:function(t,e){},bOdI:function(t,e,s){"use strict";e.__esModule=!0;var a,r=s("C4MV"),o=(a=r)&&a.__esModule?a:{default:a};e.default=function(t,e,s){return e in t?(0,o.default)(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}},mClu:function(t,e,s){var a=s("kM2E");a(a.S+a.F*!s("+E39"),"Object",{defineProperty:s("evD5").f})},oDMt:function(t,e,s){"use strict";var a=s("bOdI"),r=s.n(a),o=s("HNM5");e.a=r()({list:function(t){return o.a.post("/clientOrder/list",t)},cancelOrder:function(t){return o.a.post("/clientOrder/cancelOrder",t)},getExceptionData:function(t){return o.a.post("/clientOrder/getExceptionData",t)},orderDetails:function(t){return o.a.post("/clientOrder/orderDetails",t)},shipment:function(t){return o.a.post("/clientOrder/shipment",t)},getOrderRouteInfo:function(t){return o.a.post("/clientOrder/getOrderRouteInfo",t)}},"getOrderRouteInfo",function(t){return o.a.post("/clientOrder/getOrderRouteInfo",t)})}});
//# sourceMappingURL=1.ba2818f29de5ba7053f3.js.map