webpackJsonp([12],{"/Yvf":function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("HNM5"),i=function(t){return s.a.post("/clientPay/list",t)},l=function(t){return s.a.post("/clientPay/details",t)},n=e("I9qK"),r={name:"consumption-data",data:function(){return{pickerOptions:{shortcuts:[{text:"最近一周",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-6048e5),t.$emit("pick",[e,a])}},{text:"最近一个月",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-2592e6),t.$emit("pick",[e,a])}},{text:"最近三个月",onClick:function(t){var a=new Date,e=new Date;e.setTime(e.getTime()-7776e6),t.$emit("pick",[e,a])}}]},pageParams:{length:10,sizes:[10,20,50,100],start:0,total:0,shipment_startTime:null,shipment_endTime:null},consumption:null,detailModal:!1,shipmentArray:"",detailData:""}},methods:{getConsumptionList:function(){var t=this;i(this.pageParams).then(function(a){1==a.code&&(t.pageParams.total=a.data.recordsTotal,t.consumption=a.data.list)})},getDetail:function(t){var a=this;l({pay_id:t}).then(function(t){1==t.code&&(a.detailModal=!0,a.detailData=t.data)})},pageSizeChange:function(t){this.pageParams.length=t,this.getConsumptionList()},pageCurrentChange:function(t){this.pageParams.start=(t-1)*this.pageParams.length,this.getConsumptionList()},submitSearch:function(){this.pageParams.shipment_startTime="",this.pageParams.shipment_endTime="",this.shipmentArray&&(this.pageParams.shipment_startTime=this.shipmentArray[0],this.pageParams.shipment_endTime=this.shipmentArray[1]),this.getConsumptionList()}},created:function(){this.getConsumptionList()},filters:{fees_type:function(t){switch(t){case"dappend_fees":return"订单附加费";case"blend_fees":return"订单杂费";case"transport_fees":return"订单运输费"}},formatDate:function(t){var a=new Date(t);return Object(n.a)(a,"yyyy-MM-dd hh:mm")}}},o={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",[e("el-card",[e("el-form",{attrs:{inline:!0,model:t.pageParams}},[e("el-form-item",{attrs:{label:"出货"}},[e("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"daterange",align:"center","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","value-format":"yyyy-MM-dd"},model:{value:t.shipmentArray,callback:function(a){t.shipmentArray=a},expression:"shipmentArray"}},[t._v('\n          :picker-options="pickerOptions">\n        ')])],1),t._v(" "),e("el-form-item",[e("el-button",{attrs:{type:"primary"},on:{click:t.submitSearch}},[t._v("查询")])],1)],1)],1),t._v(" "),e("el-card",{staticClass:"m-t"},[e("el-table",{staticStyle:{width:"100%"},attrs:{data:t.consumption}},[e("el-table-column",{attrs:{label:"消费流水号"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(a.row.order_no)+" "),e("span",{staticClass:"tag"},[t._v("[订单号]")])]),t._v(" "),e("p",[t._v(t._s(a.row.pay_no)+" "),e("span",{staticClass:"tag"},[t._v("[消费单号]")])])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"预估金额"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(a.row.amount)+" "+t._s(a.row.currency))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"消费类型"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t._f("fees_type")(a.row.fees_type)))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"出货时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[a.row.shipment_time?e("p",[t._v(t._s(t._f("formatDate")(a.row.shipment_time)))]):e("p",[t._v("暂无")])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"创建时间"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t._f("formatDate")(a.row.create_time)))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("el-button",{attrs:{size:"mini"},on:{click:function(e){t.getDetail(a.row.pay_id)}}},[t._v("查看明细\n          ")])]}}])})],1),t._v(" "),e("div",{staticClass:"block text-right m-t"},[e("el-pagination",{attrs:{"current-page":t.pageParams.start,"page-sizes":t.pageParams.sizes,"page-size":t.pageParams.length,layout:"total, sizes, prev, pager, next, jumper",total:t.pageParams.total},on:{"size-change":t.pageSizeChange,"current-change":t.pageCurrentChange}})],1)],1),t._v(" "),e("el-dialog",{attrs:{title:"费用记录",visible:t.detailModal},on:{"update:visible":function(a){t.detailModal=a}}},[e("div",{staticClass:"form-horizontal"},[e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"control-label col-sm-5"},[t._v("消费流水号：")]),t._v(" "),e("div",{staticClass:"col-sm-7"},[e("div",{staticClass:"form-control-static"},[t._v(t._s(t.detailData.pay_no))])])])]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"control-label col-sm-5"},[t._v("订单号：")]),t._v(" "),e("div",{staticClass:"col-sm-7"},[e("div",{staticClass:"form-control-static"},[t._v(t._s(t.detailData.order_no))])])])])]),t._v(" "),e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"control-label col-sm-5"},[t._v("消费金额：")]),t._v(" "),e("div",{staticClass:"col-sm-7"},[e("div",{staticClass:"form-control-static"},[t._v(t._s(t.detailData.amount)+" "+t._s(t.detailData.currency))])])])]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"control-label col-sm-5"},[t._v("消费类型：")]),t._v(" "),e("div",{staticClass:"col-sm-7"},[e("div",{staticClass:"form-control-static"},[t._v(t._s(t._f("fees_type")(t.detailData.fees_type)))])])])])]),t._v(" "),t.detailData.orderPrice?e("div",{staticClass:"row"},[e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"control-label col-sm-5"},[t._v("空运单价：")]),t._v(" "),e("div",{staticClass:"col-sm-7"},[e("div",{staticClass:"form-control-static"},[t._v(t._s(t.detailData.orderPrice.shipping_price)+" "+t._s(t.detailData.orderPrice.price_currency))])])])]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"control-label col-sm-5"},[t._v("燃油附加费：")]),t._v(" "),e("div",{staticClass:"col-sm-7"},[e("div",{staticClass:"form-control-static"},[t._v(t._s(t.detailData.orderPrice.fuel_surcharge)+" "+t._s(t.detailData.orderPrice.price_currency))])])])]),t._v(" "),e("div",{staticClass:"col-sm-4"},[e("div",{staticClass:"form-group"},[e("div",{staticClass:"control-label col-sm-5"},[t._v("战争附加费：")]),t._v(" "),e("div",{staticClass:"col-sm-7"},[e("div",{staticClass:"form-control-static"},[t._v(t._s(t.detailData.orderPrice.war_surcharge)+" "+t._s(t.detailData.orderPrice.price_currency))])])])])]):t._e(),t._v(" "),e("p",[t._v("消费明细")]),t._v(" "),e("el-table",{attrs:{data:[0]}},[e("el-table-column",{attrs:{label:"入仓重量"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t.detailData.in_house_weight))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"订单体积CM"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t.detailData.bale_long)+"*"+t._s(t.detailData.bale_width)+"*"+t._s(t.detailData.bale_height))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"计费重量KG"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t.detailData.rough_weight))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"空运运费"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t.detailData.shipping_fees))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"燃油附加费"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t.detailData.fuel_fees))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"战争附加费"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t.detailData.war_fees))])]}}])}),t._v(" "),e("el-table-column",{attrs:{label:"总计金额"},scopedSlots:t._u([{key:"default",fn:function(a){return[e("p",[t._v(t._s(t.detailData.amount))])]}}])})],1)],1),t._v(" "),e("div",{attrs:{slot:"footer"},slot:"footer"},[e("el-button",{on:{click:function(a){t.detailModal=!1}}},[t._v("我知道了")])],1)])],1)},staticRenderFns:[]};var c=e("VU/8")(r,o,!1,function(t){e("TeMw")},"data-v-1027d932",null);a.default=c.exports},TeMw:function(t,a){}});
//# sourceMappingURL=12.0a2ffa646d55e9e92c6c.js.map